###
## compile dependencies of davix



IF(NOT HAVE_STRPTIME_H)
    SET(SRC_STRPTIME "${CMAKE_CURRENT_SOURCE_DIR}/strptime/strptime.c" PARENT_SCOPE)
ELSE(NOT HAVE_STRPTIME_H)
    SET(SRC_STRPTIME "" PARENT_SCOPE)
ENDIF(NOT HAVE_STRPTIME_H)

IF(NOT HAVE_MEMPCPY_H)
    SET(SRC_MEMPCPY "${CMAKE_CURRENT_SOURCE_DIR}/mempcpy/mempcpy.c" PARENT_SCOPE)
ELSE(NOT HAVE_MEMPCPY_H)
    SET(SRC_SMEMPCPY "" PARENT_SCOPE)
ENDIF(NOT HAVE_MEMPCPY_H)


IF(NOT HAVE_STRLCPY_H)
    SET(SRC_STRLCPY "${CMAKE_CURRENT_SOURCE_DIR}/strlcpy/strlcpy.c" PARENT_SCOPE)
ELSE(NOT HAVE_STRLCPY_H)
    SET(SRC_STRLCPY "" PARENT_SCOPE)
ENDIF(NOT HAVE_STRLCPY_H)


SET(SRC_SIMPLE_GET_PASS "${CMAKE_CURRENT_SOURCE_DIR}/simple_getpass/simple_get_pass.cpp" PARENT_SCOPE)
SET(SRC_STRING_UTILS_CPP "${CMAKE_CURRENT_SOURCE_DIR}/string_utils/stringutils.cpp" PARENT_SCOPE)


add_subdirectory(libneon)


if(NOT HAVE_SYSSOCKET_H)
set(SOCKET_PKG_LIBRARIES "ws2_32")
endif(NOT HAVE_SYSSOCKET_H)

SET(HTTPLIB_PKG_VERSION "0.29.0" PARENT_SCOPE)
SET(HTTPLIB_PKG_STATIC_LIB_PATH "${CMAKE_CURRENT_BINARY_DIR}/libneon/src/libneon.a")
SET(HTTPLIB_PKG_LIBRARIES ${HTTPLIB_PKG_STATIC_LIB_PATH} ${LIBSSL_PKG_LIBRARIES} ${LIBGSSAPI_PKG_LIBRARIES} ${LIBXML2_LIBRARIES} ${SOCKET_PKG_LIBRARIES} PARENT_SCOPE)
SET(HTTPLIB_PKG_INCLUDE_DIRS ${CMAKE_CURRENT_SOURCE_DIR}/libneon/src/  ${LIBXML2_INCLUDE_DIRS} ${LIBSSL_PKG_INCLUDE_DIRS}  ${LIBGSSAPI_PKG_INCLUDE_DIRS} PARENT_SCOPE)


